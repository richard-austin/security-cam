<div class="form-container">
  <button mat-icon-button color="accent" (click)="toggleStreamSelector()"
          class="stream-select-toggle"
          matTooltip="Toggle the stream selection form. Use this form to select the available streams (for example HD or SD) on the cameras"
          matTooltipClass="tooltip">
    <mat-icon>settings</mat-icon>
  </button>
  <div class="mat-elevation-z15" [@detailExpand]="showStreamSelector ? 'expanded' : 'collapsed'">
    <div class="setting_item">
      <div>
      </div>
      <mat-card class="camera-select mat-elevation-z8 hide-background">
        <mat-card-title>
          Select Camera streams
        </mat-card-title>

        <mat-card-content>
          <ng-container *ngFor="let cam of cameras | keyvalue">
            <section class="section">
                <span>
                  <mat-icon>arrow_right</mat-icon>
                  {{cam.value.name}}
                </span>
              <ul>
                <li *ngFor="let strm of cam.value.streams | keyvalue">
                  <mat-checkbox [color]="'primary'" [checked]="strm.value.selected"
                                (change)="updateCameras($event, cam.value,  strm.value)">
                    {{strm.value.descr}}
                  </mat-checkbox>
                </li>
              </ul>
            </section>
          </ng-container>
        </mat-card-content>
        <button color="default" mat-flat-button (click)="showStreamSelector=false"
                matTooltip="Close this form"
                matTooltipClass="tooltip">
          Done
        </button>
      </mat-card>
    </div>
  </div>
</div>
<app-reporting></app-reporting>
<div class="flex-container-vid">
  <ng-container *ngFor="let cam of cameras | keyvalue">
       <app-video [isfmp4]="true"></app-video>
  </ng-container>
</div>


