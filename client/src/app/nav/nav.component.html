<div class="sec-cam-navbar">
  <a mat-icon-button href="#">
    <mat-icon>videocam</mat-icon>
  </a>

  <div>
    <div *ngIf="!noTemperature" [ngClass]="tempAlertClass">Core Temp: {{temperature}} °C</div>
  </div>

  <button mat-button class="navbar-toggler" type="button" (click)="toggleMenu()"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <mat-icon>menu</mat-icon>
  </button>

  <div #navbarCollapse class="collapse" id="navbarSupportedContent">
    <div>
      <button mat-button [matMenuTriggerFor]="menuSelectCamera" id="cameraDropdown">
        Select Camera
      </button>
      <mat-menu #menuSelectCamera="matMenu">
        <ng-container *ngFor="let cs of cameraStreams">
          <button mat-menu-item (click)="setVideoStream(cs);menuClosed()">
            {{cs.camera.name + " (" + cs.stream.descr + ")"}}
          </button>
        </ng-container>
        <button mat-menu-item (click)="multiCamView();menuClosed()">Multi Camera View</button>
      </mat-menu>
    </div>

    <div>
      <button mat-button [matMenuTriggerFor]="menuSelectRecording">Select Recording</button>
      <mat-menu #menuSelectRecording="matMenu">
        <ng-container *ngFor="let cs of cameraStreams">
          <button mat-menu-item (click)="showRecording(cs);menuClosed()">
            {{cs.camera.name + " (" + cs.stream.descr + ")"}}
          </button>
        </ng-container>
      </mat-menu>
    </div>

    <div>
      <button mat-button [matMenuTriggerFor]="menuCameraSettings">Camera Settings</button>
      <mat-menu #menuCameraSettings="matMenu">
        <ng-container *ngFor="let cam of uniqueCameras">
          <button *ngIf="cam.camera.address!=undefined&&cam.camera.controlUri!=undefined" mat-menu-item
                  (click)="cameraControl(cam);menuClosed()">
            {{cam.camera.name}}
          </button>
        </ng-container>
      </mat-menu>
    </div>

  <!--    <div *ngIf="!noTemperature" [ngClass]="tempAlertClass" class="mx-auto temp">Core Temp: {{temperature}} °C</div>-->
    <div>
      <button mat-button [matMenuTriggerFor]="menuGeneral">General</button>
      <mat-menu #menuGeneral="matMenu">
        <button mat-menu-item (click)="confirmLogoff();menuClosed()">Log Off</button>
        <button mat-menu-item (click)="changePassword();menuClosed()">Change Password</button>
        <div class="dropdown-divider"></div>
        <button mat-menu-item (click)="setIp();menuClosed()">Save Current Public IP</button>
        <button mat-menu-item (click)="drawdownCalc();menuClosed()">Pension Drawdown Calculator</button>
        <div class="dropdown-divider"></div>
        <button mat-menu-item (click)="about();menuClosed()">About Security Cam</button>
      </mat-menu>
    </div>
  </div>
</div>
<mat-card class="mat-elevation-z8 confirm-logout alert-warning" *ngIf="confirmLogout">
  <mat-card-subtitle style="color: inherit">
    Logout from Security Cam, Are you sure?
  </mat-card-subtitle>
  <mat-card-content>
    <button mat-flat-button color="warning" (click)="logOff(true)">Confirm</button>
    <button mat-flat-button color="default" (click)="logOff(false)">Cancel</button>
  </mat-card-content>
</mat-card>
<router-outlet></router-outlet>
<app-reporting></app-reporting>
